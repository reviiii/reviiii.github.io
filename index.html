<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>mc.revi.gq</title>
<link rel="stylesheet" href="nav.css">
</head>
<body>
<nav class="main">
  <a class="item" title="Hiervoor heb je Tampermonkey nodig" href="https://github.com/reviiii/scripts/raw/master/TPSCounter.user.js">TPSCounter</a>
  <button class="item" onclick="alert(toLelijk(prompt('Tekst')))" onmouseup="this.blur()">Lelijk lettertype</button>
  <button class="item" onclick="promptCreateGradient()" onmouseup="this.blur()">Gradients met format codes (voor items)</button>
  <!--<a class="item" href="https://pastebin.com/embed_iframe/Dkf9Bke2">Ocean monuments</a>-->
</nav>
<script>
function toLelijk(str) {
    var mooi =   ["!","\"","#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","«","»"];
    var lelijk = ["！","＂","＃","＄","％","＆","＇","（","）","＊","＋","，","－","．","／","０","１","２","３","４","５","６","７","８","９","：","；","＜","＝","＞","？","＠","Ａ","Ｂ","Ｃ","Ｄ","Ｅ","Ｆ","Ｇ","Ｈ","Ｉ","Ｊ","Ｋ","Ｌ","Ｍ","Ｎ","Ｏ","Ｐ","Ｑ","Ｒ","Ｓ","Ｔ","Ｕ","Ｖ","Ｗ","Ｘ","Ｙ","Ｚ","［","＼","］","＾","＿","｀","ａ","ｂ","ｃ","ｄ","ｅ","ｆ","ｇ","ｈ","ｉ","ｊ","ｋ","ｌ","ｍ","ｎ","ｏ","ｐ","ｑ","ｒ","ｓ","ｔ","ｕ","ｖ","ｗ","ｘ","ｙ","ｚ","｛","｜","｝","～","｟","｠"];
    for (var i=0;i<mooi.length;i++) {
        str = str.split(mooi[i]).join(lelijk[i]); // vervang mooie tekens door lelijke
    }
    return str;
}
var parseColor = (function() {
    var c = document.createElement("canvas");
    var ctx = c.getContext("2d");
    c.width = 1;
    c.height = 1;
    return function(color) {
        ctx.fillStyle = color;
        ctx.fillRect(0,0,1,1);
        var imgData = ctx.getImageData(0,0,1,1);
        var d = imgData.data
        return {r: d[0], g: d[1], b: d[2], a: d[3]}
    }
})()
function createGradient(str, startColor, endColor, modifier) {
    str=str.split("");
    var l = str.length;
    startColor = parseColor(startColor);
    endColor = parseColor(endColor);
    var r1 = startColor.r, g1 = startColor.g, b1 = startColor.b;
    var r2 = endColor.r, g2 = endColor.g, b2 = endColor.b;
    var out=""
    for (var i=0;i<l;i++) {
        out += "{#"+Math.round(r1+(i/(l-1))*(r2-r1)).toString(16).padStart(2, "0")+
                    Math.round(g1+(i/(l-1))*(g2-g1)).toString(16).padStart(2, "0")+
                    Math.round(b1+(i/(l-1))*(b2-b1)).toString(16).padStart(2, "0")+
               "}"+modifier+str[i];
    }
    return out;
}
function promptCreateGradient() {
    var str = prompt('Tekst');
    if (str===null) return;
    var startColor = prompt('Beginkleur', '#00FFFF');
    if (startColor===null) return;
    var endColor = prompt('Eindkleur', 'blue');
    if (endColor===null) return;
    var modifier = prompt('Format codes', '&l');
    if (modifier===null) return;
    alert("/rename "+createGradient(str, startColor, endColor, modifier));
}
</script>
</body>
</html>
